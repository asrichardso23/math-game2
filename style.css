/* ---------- generic layout ---------- */
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:"Comic Sans MS", sans-serif;
  text-align:center;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  transition:background 0.6s;
}
header{padding:2rem 1rem;}
h1{font-size:3rem;margin-bottom:1rem;}

/* avatar display + button */
.avatar-section{
  display:flex;
  align-items:center;
  gap:.5rem;
  justify-content:center;
  margin-bottom:1rem;
}
#avatarDisplay{font-size:2.2rem;}

.controls{
  display:flex;
  flex-wrap:wrap;
  gap:1rem;
  justify-content:center;
}

label,button,select{font-size:1rem;}
button{
  padding:.4rem 1rem;
  border:none;border-radius:.4rem;
  cursor:pointer;
}
button:disabled{opacity:.4;}

main{flex:1;padding-bottom:3rem;}

#problem{font-size:2.8rem;margin:1.5rem 0;}
#answer{font-size:2.2rem;width:6rem;text-align:center;}
#submit{font-size:1.2rem;margin-left:.6rem;}

#feedback{font-size:2rem;height:2.5rem;margin-top:1rem;}

progress{
  width:60%;
  height:1.2rem;
  border-radius:.6rem;
  margin:1.5rem auto;
  appearance:none;
}
progress::-webkit-progress-bar{
  background:#ddd;
  border-radius:.6rem;
}
progress::-webkit-progress-value{
  background:#4caf50;
  border-radius:.6rem;
}

#stats{margin-top:.3rem;font-size:1rem;color:#333;}

/* ---------- modal styles ---------- */
.modal{
  position:fixed;
  inset:0;
  display:none;                 /* shown via JS */
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.5);
  z-index:1000;
}
.modal-content{
  background:#fff;
  padding:1.5rem 2rem;
  border-radius:.8rem;
  max-width:90%;
  text-align:center;
}
.avatar-option{
  font-size:2.5rem;
  margin:.4rem;
  background:none;
  border:none;
  cursor:pointer;
}

/* ---------- themes ---------- */

/* space remains the same */
body.space{
  background:#000428
    url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=1300&q=60')
    center/cover no-repeat fixed;
  color:#fff;
}

/* animated unicorn theme */
body.unicorn{
  background:
    linear-gradient(135deg,
      #ffdefe 0%,   #ffe9f9 20%,
      #e9d7ff 40%, #dff3ff 60%,
      #ffdefe 80%, #ffe9f9 100%);
  background-size:400% 400%;
  animation:unicornRainbow 12s ease-in-out infinite;
}
@keyframes unicornRainbow{
  0%  {background-position:0% 50%;}
  50% {background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
body.unicorn::after{
  content:"ü¶Ñ ‚ú® üåà ‚≠êÔ∏è ‚ú®";
  position:fixed;
  top:-10%; left:-10%;
  font-size:6rem;
  width:120%; height:120%;
  opacity:.06;
  pointer-events:none;
  animation:unicornFloat 30s linear infinite;
  white-space:pre;
}
@keyframes unicornFloat{
  from{transform:translateY(0);}
  to  {transform:translateY(-100%);}
}

/* animated dino theme */
body.dino{
  background:
    repeating-linear-gradient(
      45deg,
      #c9e8b3 0 20px,
      #b7dea0 20px 40px,
      #a5d38d 40px 60px,
      #c9e8b3 60px 80px);
  animation:dinoSway 25s linear infinite;
}
@keyframes dinoSway{
  0%  {background-position:0 0;}
  100%{background-position:400px 400px;}
}
body.dino::after{
  content:"ü¶ï ü¶ñ";
  position:fixed;
  bottom:-10%; right:-10%;
  font-size:7rem;
  width:120%; height:120%;
  opacity:.04;
  pointer-events:none;
  transform:rotate(-15deg);
  animation:dinoWalk 40s linear infinite;
}
@keyframes dinoWalk{
  from{transform:translate(0,0) rotate(-15deg);}
  to  {transform:translate(-100%,100%) rotate(-15deg);}
}
